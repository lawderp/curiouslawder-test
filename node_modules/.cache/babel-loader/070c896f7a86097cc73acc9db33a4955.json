{"ast":null,"code":"import _classCallCheck from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/lawder/Documents/Sites/curious-lawder/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/lawder/Documents/Sites/curious-lawder/src/AgentSearch.js\";\nimport React, { Component } from 'react'; // import './App.css';\n\nimport Search from './Search';\nimport AgentCard from './AgentCard'; // for transition\n// import { CSSTransitionGroup } from 'react-transition-group'; // ES6\n\nimport { CSSTransitionGroup } from 'react-transition-group'; // for API request\n\nvar request = require('request');\n\nvar parseString = require('xml2js').parseString;\n\nvar util = require('util'); // yikes\n\n\nvar apiKey = 'X1-ZWz1go6ika8u8b_7q4l5';\n\nvar AgentSearch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AgentSearch, _Component);\n\n  function AgentSearch() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AgentSearch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AgentSearch)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: false,\n      dataObject: null,\n      loading: false,\n      agentObject: {}\n    };\n\n    _this.setCall = function (value, cause, source) {\n      console.log(\"name: \" + source.Name);\n      console.log(\"email: \" + source.Email); // this is the key\n\n      _this.setState({\n        result: true,\n        loading: true,\n        dataObject: {\n          name: source.Name,\n          email: source.Email\n        }\n      }, _this.makeCall); // when get response, update loading to false and add result object to state\n\n    };\n\n    _this.makeCall = function () {\n      var email = _this.state.dataObject.email;\n      var url = \"https://www.zillow.com/webservice/ProReviews.htm?zws-id=\".concat(apiKey, \"&email=\").concat(email);\n      console.log(url);\n\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      request(url, function (err, response, body) {\n        if (err) {\n          console.log('error:', err);\n        } else {\n          var returnObject = {};\n          parseString(body, function (err, result) {\n            returnObject.emailInput = email;\n            var messageCode = result['ProReviews:proreviewresults']['message'][0]['code'][0]; // if invalid email\n\n            if (messageCode == 504) {\n              returnObject.error = \"The email is invalid\";\n            } else if (messageCode == 0) {\n              // function to navigate and clean response\n              var getAttribute = function getAttribute(key) {\n                var starting = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0];\n\n                if (starting == null) {\n                  return \"No profile info\";\n                } else {\n                  var starting2 = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0][key];\n\n                  if (starting2 == null) {\n                    return \"No \".concat(key, \" info in this profile\");\n                  } else {\n                    var attribute = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0][key][0];\n\n                    if (attribute == null) {\n                      return \"No attribute info for \".concat(key, \" in this profile\");\n                    } else {\n                      return util.inspect(attribute, false, null).replace(/'/g, \"\");\n                    }\n                  }\n                }\n              }; // name \n\n\n              returnObject.name = getAttribute('name'); // photo URL\n\n              returnObject.photoURL = getAttribute('photo'); // profile URL\n\n              returnObject.profileURL = getAttribute('profileURL'); // business name\n\n              returnObject.bizName = getAttribute('businessName'); // address\n\n              returnObject.address = getAttribute('address'); // phone\n\n              returnObject.phone = getAttribute('phone'); // specialties\n\n              returnObject.specialties = getAttribute('specialties'); // review count\n\n              returnObject.reviewCount = Number(getAttribute('reviewCount')); // avg rating\n\n              returnObject.avgRating = parseFloat(getAttribute('avgRating')).toFixed(1);\n            }\n          });\n          that.finalizeObject(returnObject);\n        }\n      });\n    };\n\n    _this.finalizeObject = function (returnObject) {\n      console.log(_this.state.loading);\n      console.log(_this.state.result);\n      console.log(returnObject);\n\n      _this.setState({\n        result: true,\n        loading: false,\n        agentObject: returnObject\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AgentSearch, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"instructions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Start typing, or try these agents:\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Abbey Drummond\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Christine Bybee\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Dale Rex\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Daryl Petersen\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"And many more...\")), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Getting to Know You\"), React.createElement(\"div\", {\n        className: \"task-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"chat-bubble\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Lawder, are you working with an agent?\"), React.createElement(Search, {\n        setCall: this.setCall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), this.state.result && React.createElement(CSSTransitionGroup, {\n        transitionName: \"example\",\n        transitionAppear: true,\n        transitionAppearTimeout: 500,\n        transitionEnter: false,\n        transitionLeave: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(AgentCard, {\n        result: this.state.result,\n        loading: this.state.loading,\n        name: this.state.dataObject.name,\n        email: this.state.dataObject.email,\n        agentObject: this.state.agentObject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"primaryButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Continue\"))));\n    }\n  }]);\n\n  return AgentSearch;\n}(Component);\n\nexport default AgentSearch;","map":{"version":3,"sources":["/Users/lawder/Documents/Sites/curious-lawder/src/AgentSearch.js"],"names":["React","Component","Search","AgentCard","CSSTransitionGroup","request","require","parseString","util","apiKey","AgentSearch","state","result","dataObject","loading","agentObject","setCall","value","cause","source","console","log","Name","Email","setState","name","email","makeCall","url","that","err","response","body","returnObject","emailInput","messageCode","error","getAttribute","key","starting","starting2","attribute","inspect","replace","photoURL","profileURL","bizName","address","phone","specialties","reviewCount","Number","avgRating","parseFloat","toFixed","finalizeObject"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import './App.css';\n\nimport Search from './Search';\nimport AgentCard from './AgentCard';\n\n// for transition\n// import { CSSTransitionGroup } from 'react-transition-group'; // ES6\nimport {CSSTransitionGroup} from 'react-transition-group'\n\n\n\n// for API request\nconst request = require('request');\nvar parseString = require('xml2js').parseString;\nvar util = require('util');\n\n// yikes\nconst apiKey = 'X1-ZWz1go6ika8u8b_7q4l5';\n\n\n\nclass AgentSearch extends Component {\n\n  state = {\n    result: false,\n    dataObject: null,\n    loading: false,\n    agentObject: {}\n  }\n\n  setCall = (value, cause, source) => {\n    console.log(\"name: \" + source.Name);\n    console.log(\"email: \" + source.Email); // this is the key\n    this.setState({\n        result: true,\n        loading: true,\n        dataObject: {\n          name: source.Name,\n          email: source.Email\n        },\n      },\n      this.makeCall\n    );\n    // when get response, update loading to false and add result object to state\n  }\n\n  makeCall = () => {\n    let email = this.state.dataObject.email;\n    let url = `https://www.zillow.com/webservice/ProReviews.htm?zws-id=${apiKey}&email=${email}`;\n    console.log(url);\n    const that = this;\n\n    request(url, function (err, response, body) {\n      if(err) {\n          console.log('error:', err);\n      } else {\n        let returnObject = {};\n        parseString(body, function(err, result) {\n          returnObject.emailInput = email;\n          let messageCode = result['ProReviews:proreviewresults']['message'][0]['code'][0];\n          // if invalid email\n          if (messageCode == 504) {\n            returnObject.error = \"The email is invalid\";\n          } else if (messageCode == 0) {\n\n            // function to navigate and clean response\n            let getAttribute = key => {\n              let starting = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0];                        \n              if (starting == null) {\n                  return `No profile info`;\n              } else {\n                  let starting2 = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0][key];\n                  if (starting2 == null) {\n                      return `No ${key} info in this profile`;\n                  } else {\n                      let attribute = result['ProReviews:proreviewresults']['response'][0]['result'][0]['proInfo'][0][key][0];\n                      if (attribute == null) {\n                          return `No attribute info for ${key} in this profile`;\n                      } else {\n                          return util.inspect(attribute, false, null).replace(/'/g, \"\");\n                      }\n                  }\n                }\n              }\n            \n            // name \n            returnObject.name = getAttribute('name');\n            // photo URL\n            returnObject.photoURL = getAttribute('photo');\n            // profile URL\n            returnObject.profileURL = getAttribute('profileURL');\n            // business name\n            returnObject.bizName = getAttribute('businessName');\n            // address\n            returnObject.address = getAttribute('address');\n            // phone\n            returnObject.phone = getAttribute('phone');\n            // specialties\n            returnObject.specialties = getAttribute('specialties');\n            // review count\n            returnObject.reviewCount = Number(getAttribute('reviewCount'));\n            // avg rating\n            returnObject.avgRating = parseFloat(getAttribute('avgRating')).toFixed(1);\n          }\n        });\n        that.finalizeObject(returnObject);         \n      }\n    });\n  }\n\n  finalizeObject = (returnObject) => {\n    console.log(this.state.loading);\n    console.log(this.state.result);\n    console.log(returnObject);\n    this.setState({\n      result: true,\n      loading: false,\n      agentObject: returnObject\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <div className=\"left\">\n          <p className=\"instructions\">Start typing, or try these agents:</p> <br />\n          <p>Abbey Drummond</p> <br/>\n          <p>Christine Bybee</p> <br />\n          <p>Dale Rex</p> <br />\n          <p>Daryl Petersen</p> <br />\n          <p>And many more...</p>\n        </div>\n        <div className=\"right\">\n          <div className=\"header\">\n              Getting to Know You\n          </div>\n\n          <div className=\"task-form\">\n            <div className=\"chat-bubble\">Lawder, are you working with an agent?</div>\n            <Search \n              setCall={this.setCall}\n            />\n            {this.state.result &&\n              <CSSTransitionGroup\n                transitionName=\"example\"\n                transitionAppear={true}\n                transitionAppearTimeout={500}\n                transitionEnter={false}\n                transitionLeave={false}\n              >\n                <AgentCard \n                  result={this.state.result}\n                  loading={this.state.loading}\n                  name={this.state.dataObject.name}\n                  email={this.state.dataObject.email}\n                  agentObject={this.state.agentObject}\n                />\n              </CSSTransitionGroup>\n            }\n            <button className=\"primaryButton\">Continue</button>\n            \n          </div>\n        </div> \n      </div>\n    );\n  }\n}\n\n\nexport default AgentSearch;\n"]},"metadata":{},"sourceType":"module"}